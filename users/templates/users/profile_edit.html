{% extends 'users/base.html' %}
{% load static %}

{% block content %}
<link rel="stylesheet" href="{% static 'editstyle.css' %}?{% now "U" %}">

<div class="profile-edit-container">
    <h1>Редактирование профиля</h1>
    <form method="post" class="profile-edit-form">
        {% csrf_token %}
        
        <div class="form-section">
            <h2>Основная информация</h2>
            
            <div class="form-group">
                <label>Email:</label>
                {{ form.email }}
                <small class="form-help">Нельзя изменить email</small>
            </div>

            <div class="form-group">
                <label>Имя пользователя:</label>
                {{ form.username }}
                {{ form.username.errors }}
            </div>

            <div class="form-group">
                <label>Телефон:</label>
                {{ form.phone }}
                {{ form.phone.errors }}
            </div>

            <div class="form-group">
                <label>Адрес:</label>
                {{ form.address }}
                {{ form.address.errors }}
            </div>
        </div>

        <div class="form-section password-section">
            <h2>Смена пароля</h2>
            
            <div class="form-group">
                <label>Текущий пароль:</label>
                {{ form.current_password }}
                {{ form.current_password.errors }}
            </div>

            <div class="form-group">
                <label>Новый пароль:</label>
                {{ form.new_password1 }}
                {{ form.new_password1.errors }}
            </div>

            <div class="form-group">
                <label>Подтвердите пароль:</label>
                {{ form.new_password2 }}
                {{ form.new_password2.errors }}
            </div>
        </div>

        <div class="form-actions">
            <button type="submit" class="btn-save">Сохранить изменения</button>
            <a href="{% url 'user:profile' %}" class="btn-cancel">Отмена</a>
        </div>
    </form>
</div>
{% endblock %}