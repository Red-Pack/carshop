{% load static %}

<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Автомобили</title>
    <link rel="stylesheet" href="{% static 'styles.css' %}">
</head>
<body>
    <header>
        <h1>Автомобили</h1>
    </header>
    
    <div class="filter-bar">
        <input type="text" placeholder="Марка авто">
        <input type="text" placeholder="Модель">
        <input type="number" placeholder="Год от">
        <input type="number" placeholder="Цена от">
        <button>Подобрать</button>
    </div>

    <div class="car-list">
    {% for car in cars %}

    <div class="car-card">
        {% if car.images.all %}
        <img src="{{ car.images.first.image.url }}" alt="{{ car.model }}" class="car-image">
        {% else %}
        <img src="{% static 'images/no-image.png' %}" alt="Нет фото" class="car-image">
        {% endif %}

        <div class="car-info">
            <h2 class="car-title">
                {{ car.model.brand.name }} {{ car.model.name }}, {{ car.year }}
            </h2>
            <p class="car-specs">
                {{ car.engine_capacity }} л ({{ car.power_hp }} л.с.), 
                {{car.engine}}, {{ car.get_transmission_display }}, 
                {{car.drive}}{% if not car.is_new %},
                {{car.get_mileage_display}} км{% endif %} 
            </p>
            {% if car.is_new %}
                <span class="new-label">Новый</span>
            {% endif %}
            
        </div>
        <div class = "car-price">
            <p class="price">{{ car.get_price_display }} ₽</p>
            <p class="car-location">Курган, сегодня</p>
        </div>      
    </div>
    {% endfor %}
</body>
</html>
